package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class bodycheck_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("<!--\n");
      out.write("    Author: Trevor Bal\n");
      out.write("    Author: Cameron Randolph\n");
      out.write("\n");
      out.write("    Version: 1.4\n");
      out.write("-->\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"en\">\n");
      out.write("<head>\n");
      out.write("<title>Body Check Form</title>\n");
      out.write("<meta charset=\"utf-8\">\n");
      out.write("<link href=\"CSSPage.css\" rel=\"stylesheet\">\n");
      out.write("    <script type=\"text/javascript\">\n");
      out.write("    var canvas, canvas2, ctx, ctx2, sigCanvas, sigCanvas2, sigCtx, sigCtx2, flag = false,\n");
      out.write("        prevX = 0,\n");
      out.write("        currX = 0,\n");
      out.write("        prevY = 0,\n");
      out.write("        currY = 0,\n");
      out.write("        dot_flag = false;\n");
      out.write("\n");
      out.write("    var x = \"black\",\n");
      out.write("        y = 2;\n");
      out.write("    \n");
      out.write("    function init() {\n");
      out.write("        canvas = document.getElementById('layer1');\n");
      out.write("        ctx = canvas.getContext(\"2d\");\n");
      out.write("        w = canvas.width;\n");
      out.write("        h = canvas.height;\n");
      out.write("\n");
      out.write("        img = new Image();\n");
      out.write("        img.src = 'check.png';         \n");
      out.write("        img.onload = function(){\n");
      out.write("          canvas2 = document.getElementById('layer2');\n");
      out.write("          ctx2 = canvas2.getContext(\"2d\");\n");
      out.write("          ctx2.drawImage(img, 0, 0);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        sigCanvas = document.getElementById('sigLayer1');\n");
      out.write("        sigCtx = sigCanvas.getContext(\"2d\");\n");
      out.write("\n");
      out.write("        img2 = new Image();\n");
      out.write("        img2.src = 'sigImg.png';         \n");
      out.write("        img2.onload = function(){\n");
      out.write("          sigCanvas2 = document.getElementById('sigLayer2');\n");
      out.write("          sigCtx2 = sigCanvas2.getContext(\"2d\");\n");
      out.write("          sigCtx2.drawImage(img2, 0, 0);\n");
      out.write("        }\n");
      out.write("    \n");
      out.write("        canvas.addEventListener(\"mousemove\", function (e) {\n");
      out.write("            findxy('move', e)\n");
      out.write("        }, false);\n");
      out.write("        canvas.addEventListener(\"mousedown\", function (e) {\n");
      out.write("        <!--alert(canvas.getBoundingClientRect().top + \" - \");-->\n");
      out.write("            findxy('down', e)\n");
      out.write("        }, false);\n");
      out.write("        canvas.addEventListener(\"mouseup\", function (e) {\n");
      out.write("            findxy('up', e)\n");
      out.write("        }, false);\n");
      out.write("        canvas.addEventListener(\"mouseout\", function (e) {\n");
      out.write("            findxy('out', e)\n");
      out.write("        }, false);\n");
      out.write("        \n");
      out.write("        // Set up touch events for mobile, etc\n");
      out.write("canvas.addEventListener(\"touchstart\", function (e) {\n");
      out.write("        mousePos = getTouchPos(canvas, e);\n");
      out.write("  var touch = e.touches[0];\n");
      out.write("  var mouseEvent = new MouseEvent(\"mousedown\", {\n");
      out.write("    clientX: touch.clientX,\n");
      out.write("    clientY: touch.clientY\n");
      out.write("  });\n");
      out.write("  canvas.dispatchEvent(mouseEvent);\n");
      out.write("}, false);\n");
      out.write("canvas.addEventListener(\"touchend\", function (e) {\n");
      out.write("  var mouseEvent = new MouseEvent(\"mouseup\", {});\n");
      out.write("  canvas.dispatchEvent(mouseEvent);\n");
      out.write("}, false);\n");
      out.write("canvas.addEventListener(\"touchmove\", function (e) {\n");
      out.write("  var touch = e.touches[0];\n");
      out.write("  var mouseEvent = new MouseEvent(\"mousemove\", {\n");
      out.write("    clientX: touch.clientX,\n");
      out.write("    clientY: touch.clientY\n");
      out.write("  });\n");
      out.write("  canvas.dispatchEvent(mouseEvent);\n");
      out.write("}, false);\n");
      out.write("\n");
      out.write("// Get the position of a touch relative to the canvas\n");
      out.write("function getTouchPos(canvasDom, touchEvent) {\n");
      out.write("  var rect = canvasDom.getBoundingClientRect();\n");
      out.write("  return {\n");
      out.write("    x: touchEvent.touches[0].clientX - rect.left,\n");
      out.write("    y: touchEvent.touches[0].clientY - rect.top\n");
      out.write("  };\n");
      out.write("}\n");
      out.write("\n");
      out.write("// Prevent scrolling when touching the canvas\n");
      out.write("canvas.addEventListener(\"touchstart\", function (e) {\n");
      out.write("  if (e.target == canvas) {\n");
      out.write("    e.preventDefault();\n");
      out.write("     window.ontouchmove  = preventDefault;\n");
      out.write("  }\n");
      out.write("}, false);\n");
      out.write("canvas.addEventListener(\"touchend\", function (e) {\n");
      out.write("  if (e.target == canvas) {\n");
      out.write("    e.preventDefault();\n");
      out.write("     window.ontouchmove  = preventDefault;\n");
      out.write("  }\n");
      out.write("}, false);\n");
      out.write("canvas.addEventListener(\"touchmove\", function (e) {\n");
      out.write("  if (e.target == canvas) {\n");
      out.write("    e.preventDefault();\n");
      out.write("     window.ontouchmove  = preventDefault;\n");
      out.write("    \n");
      out.write("  }\n");
      out.write("}, false);\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("        sigCanvas.addEventListener(\"mousemove\", function (e) {\n");
      out.write("            Sfindxy('move', e)\n");
      out.write("        }, false);\n");
      out.write("        sigCanvas.addEventListener(\"mousedown\", function (e) {\n");
      out.write("            Sfindxy('down', e)\n");
      out.write("        }, false);\n");
      out.write("        sigCanvas.addEventListener(\"mouseup\", function (e) {\n");
      out.write("            Sfindxy('up', e)\n");
      out.write("        }, false);\n");
      out.write("        sigCanvas.addEventListener(\"mouseout\", function (e) {\n");
      out.write("            Sfindxy('out', e)\n");
      out.write("        }, false);\n");
      out.write("        \n");
      out.write("               sigCanvas.addEventListener(\"touchstart\", function (e) {\n");
      out.write("        mousePos = getTouchPos(sigCanvas, e);\n");
      out.write("  var touch = e.touches[0];\n");
      out.write("  var mouseEvent = new MouseEvent(\"mousedown\", {\n");
      out.write("    clientX: touch.clientX,\n");
      out.write("    clientY: touch.clientY\n");
      out.write("  });\n");
      out.write("  sigCanvas.dispatchEvent(mouseEvent);\n");
      out.write("}, false);\n");
      out.write("sigCanvas.addEventListener(\"touchend\", function (e) {\n");
      out.write("  var mouseEvent = new MouseEvent(\"mouseup\", {});\n");
      out.write("  sigCanvas.dispatchEvent(mouseEvent);\n");
      out.write("}, false);\n");
      out.write("sigCanvas.addEventListener(\"touchmove\", function (e) {\n");
      out.write("  var touch = e.touches[0];\n");
      out.write("  var mouseEvent = new MouseEvent(\"mousemove\", {\n");
      out.write("    clientX: touch.clientX,\n");
      out.write("    clientY: touch.clientY\n");
      out.write("  });\n");
      out.write("  sigCanvas.dispatchEvent(mouseEvent);\n");
      out.write("}, false);\n");
      out.write("\n");
      out.write("// Get the position of a touch relative to the canvas\n");
      out.write("function getTouchPos(canvasDom, touchEvent) {\n");
      out.write("  var rect = canvasDom.getBoundingClientRect();\n");
      out.write("  return {\n");
      out.write("    x: touchEvent.touches[0].clientX - rect.left,\n");
      out.write("    y: touchEvent.touches[0].clientY - rect.top\n");
      out.write("  };\n");
      out.write("}\n");
      out.write("\n");
      out.write("// Prevent scrolling when touching the canvas\n");
      out.write("sigCanvas.addEventListener(\"touchstart\", function (e) {\n");
      out.write("  if (e.target == sigCanvas) {\n");
      out.write("    e.preventDefault();\n");
      out.write("     window.ontouchmove  = preventDefault;\n");
      out.write("  }\n");
      out.write("}, false);\n");
      out.write("sigCanvas.addEventListener(\"touchend\", function (e) {\n");
      out.write("  if (e.target == sigCanvas) {\n");
      out.write("    e.preventDefault();\n");
      out.write("     window.ontouchmove  = preventDefault;\n");
      out.write("  }\n");
      out.write("}, false);\n");
      out.write("sigCanvas.addEventListener(\"touchmove\", function (e) {\n");
      out.write("  if (e.target == sigCanvas) {\n");
      out.write("    e.preventDefault();\n");
      out.write("     window.ontouchmove  = preventDefault;\n");
      out.write("    \n");
      out.write("  }\n");
      out.write("}, false);\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    \n");
      out.write("    \n");
      out.write("    function color(obj) {\n");
      out.write("\n");
      out.write("        y = 2;\n");
      out.write("        ctx.globalCompositeOperation = \"source-over\";\n");
      out.write("\n");
      out.write("        if (obj.id == \"black\") {\n");
      out.write("            x = \"black\";\n");
      out.write("\n");
      out.write("        } else if (obj.id == \"blue\") {\n");
      out.write("            x = \"blue\";\n");
      out.write("\n");
      out.write("        } else {\n");
      out.write("            x = \"white\";\n");
      out.write("            y = 14;\n");
      out.write("            ctx.globalCompositeOperation = \"destination-out\";\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function draw() { \n");
      out.write("        ctx.beginPath();\n");
      out.write("        ctx.moveTo(prevX, prevY);\n");
      out.write("        ctx.lineTo(currX, currY);\n");
      out.write("        ctx.strokeStyle = x;\n");
      out.write("        ctx.lineWidth = y;\n");
      out.write("        ctx.stroke();\n");
      out.write("        ctx.closePath();\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function erase() {\n");
      out.write("\n");
      out.write("        var m = confirm(\"Want to clear\");\n");
      out.write("\n");
      out.write("        if (m) {\n");
      out.write("            ctx.clearRect(0, 0, w, h);\n");
      out.write("            document.getElementById(\"canvasimg\").style.display = \"none\";\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function savePic() {\n");
      out.write("        var dataURL = canvas.toDataURL();\n");
      out.write("        <!--alert(dataURL);-->\n");
      out.write("\n");
      out.write("        ctx2.drawImage(canvas, 0, 0);\n");
      out.write("\n");
      out.write("        document.bodyForm.picURL.value = \"\" + canvas2.toDataURL();\n");
      out.write("document.bodyForm.firstName.value = document.bodyForm.picURL.value;\n");
      out.write("        img = new Image();\n");
      out.write("        img.src = 'check.png';         \n");
      out.write("        img.onload = function(){\n");
      out.write("          canvas2 = document.getElementById('layer2');\n");
      out.write("          ctx2 = canvas2.getContext(\"2d\");\n");
      out.write("          ctx2.drawImage(img, 0, 0);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        saveSig();\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    function Pclear() {\n");
      out.write("        ctx.clearRect(0, 0, canvas.width, canvas.height);\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function findxy(res, e) {\n");
      out.write("        if (res == 'down') {\n");
      out.write("            prevX = currX;\n");
      out.write("            prevY = currY;\n");
      out.write("            currX = e.clientX - canvas.getBoundingClientRect().left;\n");
      out.write("            currY = e.clientY - canvas.getBoundingClientRect().top;\n");
      out.write("    \n");
      out.write("            flag = true;\n");
      out.write("            dot_flag = true;\n");
      out.write("            if (dot_flag) {\n");
      out.write("                ctx.beginPath();\n");
      out.write("                ctx.fillStyle = x;\n");
      out.write("                ctx.fillRect(currX, currY, 2, 2);\n");
      out.write("                ctx.closePath();\n");
      out.write("                dot_flag = false;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        if (res == 'up' || res == \"out\") {\n");
      out.write("            flag = false;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        if (res == 'move') {\n");
      out.write("            if (flag) {\n");
      out.write("                prevX = currX;\n");
      out.write("                prevY = currY;\n");
      out.write("                currX = e.clientX - canvas.getBoundingClientRect().left;\n");
      out.write("                currY = e.clientY - canvas.getBoundingClientRect().top;\n");
      out.write("                draw();\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function Sdraw() { \n");
      out.write("        sigCtx.beginPath();\n");
      out.write("        sigCtx.moveTo(prevX, prevY);\n");
      out.write("        sigCtx.lineTo(currX, currY);\n");
      out.write("        sigCtx.strokeStyle = \"blue\";\n");
      out.write("        sigCtx.lineWidth = 2;\n");
      out.write("        sigCtx.stroke();\n");
      out.write("        sigCtx.closePath();\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function saveSig() {\n");
      out.write("        document.bodyForm.sigURL.value = \"\" + sigCanvas.toDataURL();\n");
      out.write("document.bodyForm.lastName.value = document.bodyForm.sigURL.value;\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    function Sclear() {\n");
      out.write("        sigCtx.clearRect(0, 0, sigCanvas.width, sigCanvas.height);\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function Sfindxy(res, e) {\n");
      out.write("        if (res == 'down') {\n");
      out.write("            prevX = currX;\n");
      out.write("            prevY = currY;\n");
      out.write("            currX = e.clientX - sigCanvas.getBoundingClientRect().left;\n");
      out.write("            currY = e.clientY - sigCanvas.getBoundingClientRect().top;\n");
      out.write("    \n");
      out.write("            flag = true;\n");
      out.write("            dot_flag = true;\n");
      out.write("            if (dot_flag) {\n");
      out.write("                sigCtx.beginPath();\n");
      out.write("                sigCtx.fillStyle = \"blue\";\n");
      out.write("                sigCtx.fillRect(currX, currY, 2, 2);\n");
      out.write("                sigCtx.closePath();\n");
      out.write("                dot_flag = false;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        if (res == 'up' || res == \"out\") {\n");
      out.write("            flag = false;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        if (res == 'move') {\n");
      out.write("            if (flag) {\n");
      out.write("                prevX = currX;\n");
      out.write("                prevY = currY;\n");
      out.write("                currX = e.clientX - sigCanvas.getBoundingClientRect().left;\n");
      out.write("                currY = e.clientY - sigCanvas.getBoundingClientRect().top;\n");
      out.write("                Sdraw();\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    </script>\n");
      out.write("</head>\n");
      out.write("<body onload=\"init()\">\n");
      out.write(" <div id=\"wrapper\" onload=\"speak()\">\n");
      out.write("  <header>\n");
      out.write("      <h1>DeRiche Agency, Inc.</h1>\n");
      out.write("  </header>\n");
      out.write(" <nav>\n");
      out.write("  <ul> \n");
      out.write("      \t<li><a href=\"dbhome.jsp\">Home</a></li>\n");
      out.write("\t<li><a href=\"bodycheck.jsp\">Create Form</a></li>\n");
      out.write("            <ul class=\"nav-dropdown\">\n");
      out.write("                <li><a href=\"bodycheck.jsp\">Body Check</a></li>\n");
      out.write("                <li><a href=\"internal_incident.jsp\">Internal Incident</a></li>\n");
      out.write("            </ul>\n");
      out.write("\t<li><a href=\"FormRetrieval.jsp\">Retrieve Form</a></li>\n");
      out.write("\t<li><a href=\"contact.html\">Contact US</a></li>\n");
      out.write("  </ul>\n");
      out.write("  </nav>   \n");
      out.write("  <main>\n");
      out.write(" <!-- <img src=\"image.jpg\" alt=\"Sedon\" width=\"450\" height=\"200\">  -->\n");
      out.write("        <div id=\"canvasDiv\" style=\"position: relative; width: 673px; height: 614px;\">\n");
      out.write("          <canvas id=\"layer2\" width=\"673\" height=\"514\" style=\"position: absolute; top: 18px; left: 0px; border:2px solid;\"></canvas>\n");
      out.write("          <canvas id=\"layer1\" width=\"673\" height=\"514\" style=\"position: absolute; top: 18px; left: 0px; border:2px solid;\"></canvas>\n");
      out.write("          <div style=\"position: absolute; top: 540px; left: 0px; width: 250px; height: 50px; border:2px solid;\">\n");
      out.write("          <div style=\"position:absolute;top:4px;left:10px;\">Color</div>\n");
      out.write("          <div style=\"position:absolute;top:24px;left:10px;width:15px;height:15px;background:black;\" id=\"black\" onclick=\"color(this)\"></div>\n");
      out.write("          <div style=\"position:absolute;top:24px;left:25px;width:15px;height:15px;background:blue;\" id=\"blue\" onclick=\"color(this)\"></div>\n");
      out.write("          <div style=\"position:absolute;top:4px;left:90px;\">Eraser</div>\n");
      out.write("          <div style=\"position:absolute;top:24px;left:90px;width:15px;height:15px;background:white;border:1px solid;\" id=\"white\" onclick=\"color(this)\"></div>\n");
      out.write("          <input type=\"button\" value=\"Clear Picture\" style=\"position:absolute; top:12px; left:150px; background:white; border:2px solid;\" onclick=\"Pclear()\">\n");
      out.write("          </div>\n");
      out.write("        </div>\n");
      out.write("        <form id=\"bodyForm\" name=\"bodyForm\" action=\"BodyCheckServlet\" method=\"post\" style=\"padding-top: 40px;\">\n");
      out.write("            Patient First Name:<br>\n");
      out.write("            <input type=\"text\" name=\"firstName\"><br>\n");
      out.write("            Patient Last Name:<br>\n");
      out.write("            <input type=\"text\" name=\"lastName\"><br>\n");
      out.write("            Explain what happened:<br>\n");
      out.write("            <textarea name=\"what\" rows=\"4\" cols=\"50\"></textarea><br>\n");
      out.write("            Where did it happen:<br>\n");
      out.write("            <input type=\"text\" name=\"where\"><br>\n");
      out.write("            When did it happen:<br>\n");
      out.write("            <input type=\"text\" name=\"when\"><br>\n");
      out.write("            Why did it happen:<br>\n");
      out.write("            <textarea name=\"why\" rows=\"4\" cols=\"50\"></textarea><br>\n");
      out.write("            What did you do? Describe First Aid administered and follow up:<br>\n");
      out.write("            <textarea name=\"firstAid\" rows=\"4\" cols=\"50\"></textarea><br>\n");
      out.write("            Recommendations for follow up: (Admin Only)<br>\n");
      out.write("            <textarea  name =\"recommend\" rows=\"4\" cols=\"50\"></textarea><br>\n");
      out.write("            <div id=\"sigDiv\" style=\"position: relative; width: 710px; height: 300px;\">\n");
      out.write("              <canvas id=\"sigLayer2\" width=\"710\" height=\"149\" style=\"position:absolute; top:20px; left:0px; border:2px solid;\"></canvas>\n");
      out.write("              <canvas id=\"sigLayer1\" width=\"710\" height=\"149\" style=\"position:absolute; top:20px; left:0px; border:2px solid;\"></canvas>\n");
      out.write("              <input type=\"button\" value=\"Clear Signature\" style=\"position:absolute; top:180px; left:0px; background:white; border:2px solid;\" onclick=\"Sclear()\">\n");
      out.write("            </div>\n");
      out.write("          <br><br>\n");
      out.write("         <input type=\"submit\" onClick=\"save()\" value=\"Submit\"/>  <input type=\"reset\" value=\"Clear\"/>\n");
      out.write("         <input type=\"hidden\" id=\"picURL\" value=\"\">\n");
      out.write("         <input type=\"hidden\" name=\"sigURL\" id=\"sigURL\" value=\"\"><br>\n");
      out.write("        </form><br>\n");
      out.write("\t<button onclick=\"myFunction()\">Help</button>\n");
      out.write("            <script>\n");
      out.write("                function myFunction() {\n");
      out.write("                    alert(\n");
      out.write("                          \"1.Mark on the chart below any abnormities observed\\n2.Enter Participant name in the field provided (First name and last name) \\n3.In the Explain what happened section, please type out how Participant received any abnormalities\\n4.In the Where / When section, please type out Where & When Participant received any abnormalities\\n5.In the What did you do? Describe First Aid administered and follow up section, please type out exactly what First Aid was administered and what steps were taken to follow up\\n6.In the Recommendations for follow up section, only if you are an Admin, please type in any recommendations you have for the participant\\n7.Enter your name in the field provided\\n8.Sign the signature box with the mouse\\n11.Select date from the Date Picker\\n\");\n");
      out.write("                }\n");
      out.write("            </script>\n");
      out.write("</main>\n");
      out.write("  <footer>\n");
      out.write("  Copyright &copy; 2017 2017 DeRiche Agency ,Inc.\n");
      out.write("    <a href=\"mailto:email@gmail.com\">email@gmail.com</a>\n");
      out.write("  </footer>\n");
      out.write("</div>\n");
      out.write("</body>\n");
      out.write("</html>");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
